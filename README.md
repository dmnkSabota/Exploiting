# Exploiting
Projekt je zameraný na osvojenie si základov softwarových zraniteľností a ich exploitácie pomocou skriptov v jazyku Python použitím jednuchej terminálovej applikácie v jazyku C.
Konkrétne exploity:
* Elevácia privilégii na root pomocou PATH Variable and SUID miskonfigurácia
* Password cracking 
* Buffer overflow

## Obsah 
* Potrebný SW
* Instalačný manuál

## Potrebný SW
* **Debian GNU/Linux**
    * *gcc*
    * *python3.8*
    * *john* (John The Ripper)
* **Python 3.8**
* **C 17**

## Instalačný manuál
Táto sekcia popisuje inštaláciu potrebného SW (aplikácie, knižnice), ich konfiguraciu, prípadne konfiguráciu OS (operačného systému) na realizáciu a demonstráciu projektu.

#### Konfigurácia ako root:
Uložiť program s názvom hello_world.c do /home/student.
```
$ useradd student
$ passwd student //nastaviť na heslo nachádzajúce sa v **rockyou.txt**
$ cd /home/student
$ gcc hello_world.c -o readpasswd
$ chmod u+s readpasswd 
```
#### Konfigurácia ako student:
Uložiť súbor s názvom exploit do ~/exploit.
```
$ printf "\nexport PATH=.:$PATH" >>~/.bashrc
$ source ~/.bashrc
$ cd ~/exploit
```
Na koniec ~/.bashrc sa zapíše príkaz export, ktorý ku $PATH pridá „ .:“ a predchádzajúce nastavenie cesty $PATH, v ktorej sa nachádzajú cesty k spustiteľným súborom.
Ak použivateľ zadá príkaz do terminálu, tak sa prehľadávajú tieto adresáre a nemusí byť zadávana celá cesta k súborom.

Príkaz source prečíta a vykoná príkazy zo súboru v aktuálnom shell prostredí, teda aj export PATH.

## Užívatelský manuál
Táto sekcia popisuje postup exploitácie zranitelnej aplikácie krok za krokom. 

#### 1.	Elevácia privilégii na root pomocou PATH Variable and SUID miskonfigurácia
* Spustí sa prvý exploit príkazom *./exploit1.py* 
* Pytohn skript vytvorí v aktuálnom adresáry súbor cat, zapíše doň /bin cestu k terminálu, nastavia sa plné oprávnenia k súboru. 
Následne sa spusí súbor readpasswd, ktorý sa kompiloval v inštalačnom manuály a spustí sa terminál s root oprávneniami.

#### 2.	Password cracking
* Spustí sa druhý exploit príkazom *./exploit2.py*
* Nástroj John the Ripper umožňuje zlúčenie /etc/shadow a /etc/passwd, ktoré obsahujú záznamy o uživateľov v systéme a hashe ich hesiel.
Následovne sa uskutoční slovníkový útok pomocou slovníka rockyou.txt a po ich prelomení sa vypíšu zistené heslá užívateľov. 

#### 3.	Buffer overflow
* Spustí sa tretí exploit príkazom *./exploit3.py*
* ASLR ochrana bola vypnutá pomocou prvého príkazu, ktorý upravuje konfiguráciu  systémových súborov.
Ochrany DEP a SC boli deaktivované pomocou príznakov –fno-stack-protector a -z execstack pri kompilácii a výstupom bol spustiteľný súbor buf.
Pri zadávaní hesla po spustení aplikácie bol zadaný reťazec znakov „1“, ktorý bol väčší ako premenná, do ktorej sa zapisoval a teda došlo k pretečeniu a „1“ sa zapísala do vedľajšej premennej pass, pomocou ktorej bol umožnený vstup do aplikácie aj napriek nevedomosti hesla.
